[gd_scene load_steps=23 format=2]

[ext_resource path="res://assets/theme/art/tileset/industrial_tileset.tres" type="TileSet" id=1]
[ext_resource path="res://src/Level/ParallaxBackground.tscn" type="PackedScene" id=2]
[ext_resource path="res://src/Actors/Player.tscn" type="PackedScene" id=3]
[ext_resource path="res://src/Level/Music.gd" type="Script" id=4]
[ext_resource path="res://assets/audio/music/1BITTopDownMusics - Track 01 (1BIT Adventure).wav" type="AudioStream" id=5]
[ext_resource path="res://assets/Da boss/Cakesatantest.png" type="Texture" id=6]
[ext_resource path="res://assets/theme/art/enemy/enemy.png" type="Texture" id=7]
[ext_resource path="res://src/UserInterface/HealthDisplay.tscn" type="PackedScene" id=8]
[ext_resource path="res://assets/theme/art/player/bullet/bullet.png" type="Texture" id=9]
[ext_resource path="res://assets/audio/sfx/explode.wav" type="AudioStream" id=10]
[ext_resource path="res://assets/audio/sfx/hit.wav" type="AudioStream" id=11]

[sub_resource type="GDScript" id=1]
script/source = "extends Node2D

const LIMIT_LEFT = -315
const LIMIT_TOP = -250
const LIMIT_RIGHT = 955
const LIMIT_BOTTOM = 690

func _ready():
	for child in get_children():
		if child is Player:
			var camera = child.get_node(\"Camera\")
			camera.limit_left = LIMIT_LEFT
			camera.limit_top = LIMIT_TOP
			camera.limit_right = LIMIT_RIGHT
			camera.limit_bottom = LIMIT_BOTTOM
			
	$AnimationPlayer.play(\"timeline\")
"

[sub_resource type="Animation" id=12]
resource_name = "timeline"
length = 3.0
tracks/0/type = "animation"
tracks/0/path = NodePath("AnimationPlayer")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"clips": PoolStringArray( "top_swipe_rl", "top_swipe_lr" ),
"times": PoolRealArray( 0, 2 )
}

[sub_resource type="Animation" id=14]
resource_name = "top_swipe_lr"
tracks/0/type = "value"
tracks/0/path = NodePath("Path2D/PathFollow2D:unit_offset")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ 1.0, 0.0 ]
}

[sub_resource type="Animation" id=11]
resource_name = "top_swipe_rl"
tracks/0/type = "value"
tracks/0/path = NodePath("Path2D/PathFollow2D:unit_offset")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ 0.0, 1.0 ]
}

[sub_resource type="CanvasItemMaterial" id=2]

[sub_resource type="CanvasItemMaterial" id=6]
blend_mode = 1

[sub_resource type="Gradient" id=7]
offsets = PoolRealArray( 0.5, 1 )
colors = PoolColorArray( 1, 1, 1, 1, 0, 0, 0, 1 )

[sub_resource type="GradientTexture" id=8]
gradient = SubResource( 7 )
width = 256

[sub_resource type="ParticlesMaterial" id=9]
emission_shape = 1
emission_sphere_radius = 8.0
flag_disable_z = true
spread = 180.0
gravity = Vector3( 0, 250, 0 )
initial_velocity = 120.0
initial_velocity_random = 0.5
orbit_velocity = 0.0
orbit_velocity_random = 0.0
angle_random = 1.0
scale_random = 1.0
color_ramp = SubResource( 8 )
hue_variation = 0.05
hue_variation_random = 0.46

[sub_resource type="RectangleShape2D" id=10]
extents = Vector2( 76.2331, 43.5005 )

[sub_resource type="Curve2D" id=13]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 416.158, 585.651, 96.586, 0, -96.586, 0, 250.966, 600.246, 0, 0, 0, 0, 70.5148, 580.344 )
}

[node name="BossLevel" type="Node2D"]
pause_mode = 1
script = SubResource( 1 )

[node name="Enemies" type="Node" parent="."]

[node name="ParallaxBackground" parent="." instance=ExtResource( 2 )]

[node name="Music" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 5 )
autoplay = true
script = ExtResource( 4 )

[node name="Player" parent="." instance=ExtResource( 3 )]
position = Vector2( 97.2707, 697.943 )

[node name="TileMap" type="TileMap" parent="."]
position = Vector2( 24.7384, 27.3553 )
tile_set = ExtResource( 1 )
cell_size = Vector2( 16, 16 )
collision_layer = 16
collision_mask = 0
format = 1
tile_data = PoolIntArray( 1441787, 0, 17, 1966079, 0, 5, 1900572, 0, 5, 2031615, 0, 5, 1966108, 0, 5, 2097151, 0, 5, 2031644, 0, 5, 2162687, 0, 5, 2097180, 0, 5, 2228223, 0, 5, 2162716, 0, 5, 2293759, 0, 5, 2228252, 0, 5, 2359295, 0, 5, 2293788, 0, 5, 2424831, 0, 5, 2359324, 0, 5, 2490367, 0, 5, 2424860, 0, 5, 2555903, 0, 5, 2490396, 0, 5, 2621439, 0, 5, 2555932, 0, 5, 2686975, 0, 5, 2621468, 0, 5, 2752511, 0, 5, 2687004, 0, 5, 2818047, 0, 5, 2752540, 0, 5, 2883583, 0, 5, 2818048, 0, 5, 2818049, 0, 5, 2818050, 0, 5, 2818051, 0, 5, 2818052, 0, 5, 2818053, 0, 5, 2818054, 0, 5, 2818055, 0, 5, 2818056, 0, 5, 2818057, 0, 5, 2818058, 0, 5, 2818059, 0, 5, 2818060, 0, 5, 2818061, 0, 5, 2818062, 0, 5, 2818063, 0, 5, 2818064, 0, 5, 2818065, 0, 5, 2818066, 0, 5, 2818067, 0, 5, 2818068, 0, 5, 2818069, 0, 5, 2818070, 0, 5, 2818071, 0, 5, 2818072, 0, 5, 2818073, 0, 5, 2818074, 0, 5, 2818075, 0, 5, 2818076, 0, 5, 2883602, 0, 5, 2883603, 0, 5, 2883604, 0, 5, 2883605, 0, 5 )

[node name="SequencePlayer" type="AnimationPlayer" parent="."]
anims/timeline = SubResource( 12 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
anims/top_swipe_lr = SubResource( 14 )
anims/top_swipe_rl = SubResource( 11 )

[node name="Enemy" type="KinematicBody2D" parent="."]
position = Vector2( 416.158, 585.651 )
collision_layer = 0
collision_mask = 24
__meta__ = {
"_edit_group_": true
}

[node name="Sprite" type="Sprite" parent="Enemy"]
material = SubResource( 2 )
texture = ExtResource( 7 )
flip_h = true
hframes = 8
frame = 7

[node name="Explosion" type="Particles2D" parent="Enemy"]
self_modulate = Color( 1, 1, 1, 0.12 )
material = SubResource( 6 )
emitting = false
amount = 32
lifetime = 0.5
one_shot = true
speed_scale = 1.2
explosiveness = 0.76
draw_order = 215832976
process_material = SubResource( 9 )
texture = ExtResource( 9 )

[node name="Hit" type="AudioStreamPlayer2D" parent="Enemy"]
stream = ExtResource( 11 )

[node name="Explode" type="AudioStreamPlayer2D" parent="Enemy"]
stream = ExtResource( 10 )

[node name="HealthDisplay" parent="Enemy" instance=ExtResource( 8 )]

[node name="AnimatedSprite" type="AnimatedSprite" parent="Enemy"]

[node name="Cakesatantest" type="Sprite" parent="Enemy/AnimatedSprite"]
position = Vector2( 0.385071, -61.0285 )
texture = ExtResource( 6 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Enemy"]
position = Vector2( 0.530151, -40.0695 )
shape = SubResource( 10 )

[node name="Path2D" type="Path2D" parent="."]
curve = SubResource( 13 )

[node name="PathFollow2D" type="PathFollow2D" parent="Path2D"]
position = Vector2( 416.158, 585.651 )
rotation = 2.94634

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="Path2D/PathFollow2D"]
remote_path = NodePath("../../../Enemy")
update_rotation = false
update_scale = false
